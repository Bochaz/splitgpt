:root{
  --bg:#f6f7f8; --panel:#fff; --text:#111; --muted:#6b7280; --border:#e5e7eb;
  --ok:#16a34a; --danger:#b91c1c;
}
*{box-sizing:border-box}
body{margin:0;background:var(--bg);color:var(--text);font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
header{position:sticky;top:0;background:rgba(255,255,255,.85);backdrop-filter:saturate(180%) blur(10px);border-bottom:1px solid var(--border);z-index:50}
.container{max-width:1000px;margin:0 auto;padding:16px}
h1{margin:0}
.row{display:flex;gap:8px;align-items:center}

.tabs{display:flex;gap:8px;flex-wrap:wrap}
.tab{padding:8px 12px;border:1px solid var(--border);border-radius:999px;background:#fff;cursor:pointer}
.tab.active{background:#000;color:#fff;border-color:#000}

section.panel{background:var(--panel);border-radius:16px;box-shadow:0 1px 2px rgba(0,0,0,.06);padding:16px;margin:16px 0}
section.panel h2{margin:0 0 12px 0;font-size:18px}

input,select{width:100%;border:1px solid var(--border);border-radius:10px;padding:8px 10px;background:#fff;color:inherit}
.label{font-size:12px;color:var(--muted);margin-bottom:4px}
.grid{display:grid;gap:10px}
@media(min-width:780px){.grid-6{grid-template-columns:repeat(6,1fr)}}

.pill{display:inline-flex;align-items:center;gap:8px;border:1px solid var(--border);border-radius:14px;padding:8px 12px;background:#fff;white-space:nowrap;cursor:pointer}
.pill.active{background:#000;color:#fff;border-color:#000}

.btn{border:1px solid var(--border);background:#fff;border-radius:10px;padding:8px 12px;cursor:pointer}
.btn.danger{color:var(--danger);border-color:var(--danger)}
.btn.success{background:#d1fae5;border-color:#a7f3d0;color:#065f46}
.btn.success:hover{filter:brightness(0.98)}

.prefix-input{position:relative}
.prefix-input .prefix{position:absolute;left:10px;top:50%;transform:translateY(-50%);pointer-events:none;color:#9ca3af}
.prefix-input input{padding-left:28px}
.prefix-input input::placeholder{color:#d1d5db}

table{width:100%;font-size:14px}

/* filas separadas con puntas redondeadas */
table { border-collapse: separate; border-spacing: 0 8px; }
thead th{ text-align:left; padding:8px 10px; }
tbody tr td {
  background:#fff; padding:8px 10px;
  border-top:1px solid var(--border); border-bottom:1px solid var(--border);
}
tbody tr td:first-child {
  border-left:2px solid var(--border);
  border-top-left-radius:12px; border-bottom-left-radius:12px;
}
tbody tr td:last-child {
  border-right:2px solid var(--border);
  border-top-right-radius:12px; border-bottom-right-radius:12px;
}
td.right{text-align:right} td.center{text-align:center}
.muted{color:var(--muted)}

.card{border:1px solid var(--border);border-radius:12px;padding:12px;background:#fff}
.modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,.35);display:flex;align-items:center;justify-content:center;padding:16px;z-index:100}
.modal{max-width:640px;width:100%;background:#fff;border-radius:16px;box-shadow:0 12px 40px rgba(0,0,0,.2);padding:16px}

#status{position:fixed;bottom:12px;right:12px;background:#fff;border:1px solid var(--border);border-radius:12px;padding:6px 10px;font-size:12px;color:#6b7280;box-shadow:0 1px 4px rgba(0,0,0,.08)}

.app-title{font-size:26px;font-weight:900;letter-spacing:-.02em;cursor:pointer;outline:none}
@media(min-width:780px){.app-title{font-size:30px}}
.app-title:hover{text-decoration:underline}

/* --- Colores en móvil: botones e iconos negros --- */
.btn, .btn:visited { color: var(--text) !important; -webkit-text-fill-color: var(--text); }
.btn svg, .btn svg * { color: var(--text); stroke: currentColor; fill: none; }

/* Tabs activas: texto blanco (incluye iOS) */
.tabs .tab.active { background:#000; color:#fff !important; border-color:#000; -webkit-text-fill-color:#fff; }
/* Tabs inactivas: texto negro (no azul en mobile) */
.tabs .tab, .tabs .tab:visited { color: var(--text) !important; -webkit-text-fill-color: var(--text); }

/* Botón de filtro activo: icono/texto blanco */
.btn.is-active { background:#111; color:#fff !important; border-color:#111; -webkit-text-fill-color:#fff; }
.btn.is-active svg, .btn.is-active svg * { color:#fff; stroke: currentColor; fill: none; }

/* Pills: evitar azul al deselect en mobile */
.pill, .pill:visited { color: var(--text) !important; -webkit-text-fill-color: var(--text); }
.pill.active { background:#000; color:#fff !important; border-color:#000; -webkit-text-fill-color:#fff; }
.pill:focus { outline:2px solid #9ca3af; outline-offset:2px; }
.pill { -webkit-tap-highlight-color: transparent; }

/* reborde por fila cuando el filtro está activo */
tbody tr.viewer-pos td { border-color: #16a34a; } /* verde */
tbody tr.viewer-neg td { border-color: #dc2626; } /* rojo */

/* monto firmado (yo) */
.amount.pos { color: #16a34a; font-weight: 700; }
.amount.neg { color: #dc2626; font-weight: 700; }
